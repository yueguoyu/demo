<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">
<head th:fragment="header">
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Demo</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width" />
    <base href="/" />
    <link rel="stylesheet" type="text/css"
          href="/webjars/bootstrap/css/bootstrap.min.css" />
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript"
            src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <!--<script src="webjars/jquery/3.1.1/jquery.min.js"></script>-->
    <!--<script src="webjars/bootstrap/3.3.5/js/bootstrap.min.js"></script>-->
    <!--<link rel="stylesheet" href="webjars/bootstrap/3.3.5/css/bootstrap.min.css" />-->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- 可选的Bootstrap主题文件（一般不使用） -->
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"></script>

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="/webjars/angularjs/angular.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


    <style type="text/css">
        ul li {
            list-style-type: none;
        }
    </style>

</head>
<body ng-app="app" ng-controller="home as home">
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column">
            <nav class="navbar navbar-default navbar-inverse" role="navigation">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span
                            class="icon-bar"></span>
                        <span class="icon-bar"></span></button>
                    <a class="navbar-brand" href="#">博客</a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="#" class="glyphicon glyphicon-home">Home</a>
                        </li>
                        <li>
                            <a href="/essay/bypage" class="glyphicon glyphicon-book">Blog</a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">type<strong
                                    class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="essay/cate?cateName=java">java</a>
                                </li>
                                <li>
                                    <a href="essay/cate?cateName=js">js</a>
                                </li>
                                <li>
                                    <a href="#">Something else here</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="#">Separated link</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="#">One more separated link</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <form class="navbar-form navbar-left"  role="search" action="/essay/dim" method="get" >
                        <div class="form-group">
                            <input type="text"  class="form-control" name="title"/>
                        </div>
                        <button class="btn btn-default">submit</button>
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#wo">关于我</a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong
                                    class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="#">Action</a>
                                </li>
                                <li>
                                    <a href="#">Another action</a>
                                </li>
                                <li>
                                    <a href="#">Something else here</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="#">Separated link</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>

            </nav>
            <div class="carousel slide" id="carousel-958574">
                <ol class="carousel-indicators">
                    <li class="active" data-slide-to="0" data-target="#carousel-958574">
                    </li>
                    <li data-slide-to="1" data-target="#carousel-958574">
                    </li>
                    <li data-slide-to="2" data-target="#carousel-958574">
                    </li>
                </ol>
                <div class="carousel-inner">
                    <div class="item active">
                        <img alt="" th:src="@{~/images/1.png}"/>
                        <div class="carousel-caption">
                            <h4>

                            </h4>
                            <p>
                                Strength alone knows conflict, weakness is below even defeat, and is born vanquished.
                            </p>
                        </div>
                    </div>
                    <div class="item">
                        <img th:src="@{~/images/2.png}"/>
                        <div class="carousel-caption">
                            <h4>

                            </h4>
                            <p>
                                The people who get on in this world are the people who get up and look for circumstances they want, and if they cannot find them, make them.
                            </p>
                        </div>
                    </div>
                    <div class="item">
                        <img th:src="@{~/images/3.png}"/>
                        <div class="carousel-caption">
                            <h4>

                            </h4>
                            <p>
                                The failures and reverses which await men - and one after another sadden the brow of youth - add a dignity to the prospect of human life, which no Arcadian success would do.
                            </p>
                        </div>
                    </div>
                </div>
                <a class="left carousel-control" href="#carousel-958574" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                </a>
                <a class="right carousel-control" href="#carousel-958574" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                </a>
            </div>

            <!--最新的博客1-->
            <div class="jumbotron">
                <h1 th:text="${e1.title}">title
                    Hello, world!
                </h1>
                <p th:text="${e1.title}">
                    This is a template for a simple marketing or informational website. It includes a large callout
                    called the hero unit and three supporting pieces of content. Use it as a starting point to create
                    something more unique.
                </p>
                <p>
                    <a class="btn btn-primary btn-large" href="essay/select1?eid=1">Learn more</a>
                </p>
            </div>
            <!--博客展示-->
            <dl>
                <dt th:each="essay:${list}" class="jumbotron well">
                    <div>
                        <h1 th:text="${essay.title}">
                        </h1>
                        <p th:text="${essay.text}">
                            This is a template for a simple marketing or informational website. It includes a large
                            callout called the hero unit and three supporting pieces of content. Use it as a starting
                            point to create something more unique.
                        </p>
                        <p>
                            <a class="btn btn-primary btn-large" href="#">Learn more</a>
                        </p>
                    </div>
                </dt>
            </dl>

        </div>
    </div>

    <div class="row clearfix">
        <div class="col-md-2 column">
            <img id="wo" alt="140x140" src="images/3.png" height="140px" width="140px"/>
        </div>
        <div class="col-md-6 column">
            <div class="jumbotron">
                <h2>
                    每天一本：
                </h2>
                <p>
                    不管怎样，我老是在想象，有那么一群小孩子在一大块麦田里做游戏。几千几万个小孩子，
                    附近没有一个人——没有一个大人，我是说——除了我。我呢，就站在那混帐的悬崖边。我得职务是在那儿守望，
                    要是有哪个孩子往悬崖边奔来，我就把他捉住——我是说孩子们都在狂奔，也不知道自己是在往哪儿跑，
                    我得从什么地方出来，把他们捉住。我整天就干这样的事。
                    我只想当个麦田里的守望者（I'd just be the catcher in the rye and all.）。

                </p>
                <p>
                    ----------------------------------《麦田里的守望者》
                </p>
            </div>
        </div>
        <div class="col-md-4 column">
            <blockquote>
                <p>
                    Living without an aim is like sailing without a compass.
                </p>
                <p>
                    生活没有目标，犹如航海没有罗盘。
                </p>
                <small> <cite>John Ruskin</cite></small>
            </blockquote>
            <blockquote>
                <p>
                    Fear not that the life shall come to an end, but rather fear that it shall never have a beginning.
                </p>
                <p>
                    不要害怕你的生活将要结束，应该担心你的生活永远不会真正开始。
                </p>
                <small> <cite>J.H. Newman </cite></small>
            </blockquote>
            <blockquote>
                <p>
                    We must accept finite disappointment, but we must never lose infinite hope.
                </p>
                <p>
                    我们必须接受失望，因为它是有限的，但千万不可失去希望，因为它是无穷的。
                </p>
                <small> <cite>Mattin Luther King </cite></small>
            </blockquote>
        </div>
    </div>
</div>

<div >
    <div class="container" ng-show="!home.authenticated">
        <div>
            With Facebook: <a href="/login/facebook">click here</a>
        </div>
        <div>
            With Github: <a href="/login/github">click here</a>
        </div>
    </div>
    <div class="container" ng-show="home.authenticated">
        Logged in as: <span ng-bind="home.user"></span>
        <div>
            <button ng-click="home.logout()" class="btn btn-primary">Logout</button>
        </div>
    </div>

</div>

<script type="text/javascript">
    angular
        .module("app", [])
        .config(
            function($httpProvider) {
                $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
            }).controller("home", function($http, $location) {
        var self = this;
        $http.get("/user").success(function(data) {
            if (data.name) {
                self.user = data.name;
                self.authenticated = true;
            } else {
                self.user = "N/A";
                self.authenticated = false;
            }
        }).error(function() {
            self.user = "N/A";
            self.authenticated = false;
        });
        self.logout = function() {
            $http.post('logout', {}).success(function() {
                self.authenticated = false;
                $location.path("/");
            }).error(function(data) {
                console.log("Logout failed")
                self.authenticated = false;
            });
        };
    });
</script>

<footer id="footer">

</footer>
</body>
</html>